read_verilog Verilog/top.v
read_verilog Verilog/gpmc-sync.v
read_verilog Verilog/string_driver.v

ghdl \
    VHDL/Packages/PkgUtils.vhd \
    VHDL/ClockXing/EventXing.vhd \
    VHDL/ClockXing/VectorXing.vhd \
    VHDL/Fifo/FifoCounterHalf.vhd \
    VHDL/Fifo/DpRam.vhd \
    VHDL/Fifo/DpParityRam.vhd \
    VHDL/Fifo/SimpleFifo.vhd \
    VHDL/Fifo/RedundantFifo.vhd -e SimpleFifo

synth_ice40 -top top
write_json out/blink.synth.json